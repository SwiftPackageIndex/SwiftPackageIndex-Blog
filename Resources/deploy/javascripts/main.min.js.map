{"version":3,"sources":["../../javascripts/find_parent_matching.js","../../javascripts/main.js","../../javascripts/external_link_retargeter.js"],"names":["HTMLElement","prototype","findParentMatching","matches","element","this","parentElement","window","externalLinkRetargeter","[object Object]","document","addEventListener","installDocumentEventHandlers","event","matchingElement","target","nodeName","toLowerCase","hostname","location","setAttribute"],"mappings":"yBAAAA,YAAYC,UAAUC,mBAAqB,SAASC,GAElD,IAAIC,EAAUC,KACd,GAAK,GAAIF,EAAQC,GAAY,OAAOA,QAAoBA,EAAUA,EAAQE,eAC1E,OAAO,MCATC,OAAOC,uBAAyB,ICJzB,MACLC,cACEC,SAASC,iBAAiB,mBAAoB,KAC5CN,KAAKO,iCAITH,+BACEC,SAASC,iBAAiB,QAAUE,IAClC,MACMC,EADiBD,EAAME,OACUb,mBAAoBE,GAChB,KAAlCA,EAAQY,SAASC,eAAwBb,EAAQc,UAAYX,OAAOY,SAASD,UAGlFJ,GACFA,EAAgBM,aAAa,SAAU","sourcesContent":["HTMLElement.prototype.findParentMatching = function(matches) {\n  // Walk up the DOM and see if any of the parent elements match using the provided closure.\n  let element = this\n  do { if (matches(element)) { return element } } while ((element = element.parentElement))\n  return null\n}\n","import './find_parent_matching.js'\n\nimport { ExternalLinkRetargeter } from './external_link_retargeter.js'\n\nwindow.externalLinkRetargeter = new ExternalLinkRetargeter()\n","export class ExternalLinkRetargeter {\n  constructor() {\n    document.addEventListener('DOMContentLoaded', () => {\n      this.installDocumentEventHandlers()\n    })\n  }\n\n  installDocumentEventHandlers() {\n    document.addEventListener('click', (event) => {\n      const clickedElement = event.target\n      const matchingElement = clickedElement.findParentMatching((element) => {\n        return element.nodeName.toLowerCase() == 'a' && element.hostname != window.location.hostname\n      })\n\n      if (matchingElement) {\n        matchingElement.setAttribute('target', '_blank')\n      }\n    })\n  }\n}\n"]}